## Exceptions in Java
#### Learning Objectives**

By the end of this lesson, you should be able to:
- Define what an exception is in Java.
- Identify different types of exceptions (checked, unchecked, errors).
- Use a `try` and `catch` block to handle exceptions.
- Prevent your Java programs from crashing when exceptions occur.
- Handle specific exceptions like `ArithmeticException` (e.g., division by zero).
- Create and throw your own custom exceptions.

#### What are Exceptions?

In Java, an **exception** is an event that disrupts the normal flow of a program’s execution.
They often occur when your program encounters something unexpected — like trying to divide a number by zero, reading a missing file, or accessing an array element that doesn’t exist.

Think of exceptions as **"interruptions"** that say:

> “Hey! Something went wrong here. Do you want to deal with it, or should I just crash the program?”

#### Analogy Time!

Imagine you’re cooking pasta 🍝.
You put water on the stove, but halfway through, the gas runs out.
That’s an **exception** — you expected to boil pasta, but instead, you got an unexpected “no fire” situation.

Now, you have **two choices**:

1. Panic, throw away the pot, and cancel dinner (**program crashes**).
2. Light a portable stove and keep cooking (**handle the exception**).

Handling exceptions means choosing **option 2**.

#### Types of Exceptions

Java exceptions are classified into:

1. **Checked Exceptions** – Things you *must* handle in your code (e.g., file not found).
2. **Unchecked Exceptions (Runtime)** – Happen during execution; you *may* handle them (e.g., divide by zero).
3. **Errors** – Serious issues you usually don’t handle (e.g., out of memory).


#### The `try-catch` Structure

Java provides a way to **try** risky code and **catch** problems if they happen:

```java
try {
    // risky code here
} catch (ExceptionType e) {
    // what to do if something goes wrong
}
```

*Example: Division by Zero*

```java
public class DivisionExample {
    public static void main(String[] args) {
        int[] numbers = {5, 10, 0, 2};
        
        for (int num : numbers) {
            try {
                int result = 100 / num;
                System.out.println("100 / " + num + " = " + result);
            } catch (ArithmeticException e) {
                System.out.println("Cannot divide by zero.");
            }
        }
    }
}
```

**How it works:**

* The loop divides `100` by each number in the array.
* When `num` is `0`, Java throws an **ArithmeticException**.
* The `catch` block catches it and prevents the program from crashing.

#### Custom Exceptions in Java
Sometimes, you may want to create your own exception type.

This is useful when:
- The built-in exceptions don’t describe your situation well.
- You want to signal a special type of error in your application.

*Example*
```java
// Step 1: Create a custom exception
class InsufficientFundsException extends Exception {
    public InsufficientFundsException(String message) {
        super(message);
    }
}

// Step 2: Create a BankAccount class
class BankAccount {
    private double balance;
    
    public BankAccount(double balance) {
        this.balance = balance;
    }
    
    public void withdraw(double amount) throws InsufficientFundsException {
        if (amount > balance) {
            throw new InsufficientFundsException("You do not have enough balance to withdraw " + amount);
        }
        balance -= amount;
        System.out.println("Successfully withdrew: " + amount);
        System.out.println("Remaining balance: " + balance);
    }
}

// Step 3: Main program to use the custom exception
public class CustomExceptionExample {
    public static void main(String[] args) {
        BankAccount account = new BankAccount(1000);
        
        try {
            account.withdraw(1200); // risky operation
        } catch (InsufficientFundsException e) {
            System.out.println("Transaction failed: " + e.getMessage());
        }
    }
}
```
How this works:
- We created InsufficientFundsException to represent a withdrawal problem.
- The withdraw() method throws this exception when there’s not enough money.
- The main() method catches it and prints a friendly message.

#### Key Takeaways

* Exceptions are events that disrupt the normal flow of a program.
* Use **try-catch** to handle them gracefully.
* Only use exceptions for truly exceptional cases, not as regular control flow.

#### Practice Activity

In VS Code:

1. Create an array with numbers `{4, 8, 0, 16, 2}`.
2. Write a loop to divide `50` by each number.
3. Use a `try-catch` block to handle division by zero errors.
4. Print `"Division by zero is not allowed"` when the error occurs.

